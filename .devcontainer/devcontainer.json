// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/python
{
  // 1. SET THE CONTAINER NAME
  // This is the custom name for your container.
  // Note: Docker requires container names to be unique. If you try to run another
  // container with this same name, it will fail.
  "name": "WrestleScripts",

  // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
  "build": {
    // Path is relative to the devcontainer.json file.
    "context": "..",
    "dockerfile": "Dockerfile"
  },

	"initializeCommand": "docker build -t wrestlescripts:latest -f ./.devcontainer/Dockerfile .",
	
  // 2. SET CONTAINER PROPERTIES (LIKE NETWORK)
  // Use 'runArgs' to pass arguments directly to the 'docker run' command.
  "runArgs": [
		"--name",
		"wrestlescripts",
    // This connects your container directly to your computer's network.
    // Useful for servers or tools that need to discover devices on your local network.
    "--network=host"
  ],

  // 3. AUTOMATICALLY INSTALL PACKAGES
  // 'postCreateCommand' runs as the container user ('appuser') after the container is ready.
  // We now only need it to install our python packages.
  "postCreateCommand": "pip3 install -r requirements.txt",

  // 4. MOUNT LOCAL FILES (The Default Behavior)
  // VS Code automatically mounts your project folder into the container.
  // The 'workspaceFolder' property tells VS Code where in the container to open it.
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.debugpy",
        "ms-python.vscode-pylance",
        "ms-mssql.mssql",
        "mongodb.mongodb-vscode",
        "google.geminicodeassist"
      ]
    }
  }
}
